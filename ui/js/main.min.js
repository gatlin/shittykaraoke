!function(n){var r={};function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=n,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=2)}([function(t,e,n){"use strict";var r,i;Object.defineProperty(e,"__esModule",{value:!0}),(i=r=e.Actions||(e.Actions={}))[i.SetModeSearch=0]="SetModeSearch",i[i.SetModeBrowse=1]="SetModeBrowse",i[i.UpdateSongQuery=2]="UpdateSongQuery",i[i.SearchBy=3]="SearchBy",i[i.SearchResults=4]="SearchResults",i[i.Search=5]="Search",e.setModeSearch={type:r.SetModeSearch},e.setModeBrowse={type:r.SetModeBrowse},e.updateSongQuery=function(t){return{type:r.UpdateSongQuery,data:t}},e.searchBy=function(t){return{type:r.SearchBy,data:t}},e.searchResults=function(t){return{type:r.SearchResults,data:t}},e.search=function(){return function(t,e){var n=e(),r=n.ws,i=n.searchBy,o=n.songQuery;r.send({type:i,data:o})}}},function(t,e,n){"use strict";var l=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(3);e.makeReducer=function(u){var l=Object.keys(u);return function(t,e){for(var n=!1,r={},i=0;i<l.length;i++){var o=l[i],s=u[o],a=t[o],c=s(a,e);r[o]=c,n=n||c!==a}return n?r:t}};var i=function(){function t(t,e){this.state=t,this.reducer=e,this.subscribers=[]}return t.prototype.dispatch=function(t){return this.state=this.reducer(this.state,"function"==typeof t?t(this.dispatch.bind(this),this.getState.bind(this)):t),this.subscribers.forEach(function(t){t()}),this},t.prototype.subscribe=function(e){var n=this;return this.subscribers.push(e),function(){var t=n.subscribers.indexOf(e);n.subscribers.splice(t,1)}},t.prototype.getState=function(){return Object.seal(this.state)},t}();e.Store=i,e.el=function(r,i){void 0===i&&(i={});for(var o=[],t=2;t<arguments.length;t++)o[t-2]=arguments[t];return function(n){var e={};(i=null===i?{}:i).on&&(e=i.on,delete i.on),i.className&&(i.class=i.className,delete i.className),i.ref&&(e.ref=i.ref,delete i.ref);var t=(o=Array.isArray(o)&&Array.isArray(o[0])?o[0]:o)?o.filter(function(t){return void 0!==t}).map(function(t,e){return!t||t instanceof Array?null:"string"==typeof t?new s.VDom(t,[],s.VDomType.Text):t(n)}).filter(function(t){return null!==t}):[];return"string"==typeof r?new s.VDom({tag:r,attrs:i},t,s.VDomType.Node,function(t){n.handle(t,e)}):r(l({},i,{children:t}))(n)}};var o=function(){function t(t){this.raw=t,this.classes=t.target.className.trim().split(/\s+/g)||[],this.id=t.target.id||"",this.value=t.target.value}return t.prototype.hasClass=function(t){return-1!==this.classes.indexOf(t)},t.prototype.getClasses=function(){return this.classes},t.prototype.getId=function(){return this.id},t.prototype.getValue=function(){return this.value},t.prototype.getRaw=function(){return this.raw},t.prototype.class_in_ancestry=function(t){for(var e=null,n=!1,r=this.raw.target;!n;){if(!r.className){n=!0;break}-1!==(r.className.trim().split(/\s+/g)||[]).indexOf(t)?(e=r,n=!0):r.parentNode?r=r.parentNode:n=!0}return e},t}();e.AlmEvent=o;var r=function(){function t(t){var r=this;this.gensymnumber=0,this.handleEvent=function(t){var e=t.type;if(r.events[e]&&t.target.hasAttribute("data-alm-id")){var n=t.target.getAttribute("data-alm-id");r.events[e][n]&&r.events[e][n](new o(t))}},this.store=new i(t.model,t.update),this.eventRoot="string"==typeof t.eventRoot?document.getElementById(t.eventRoot):void 0===t.eventRoot?document:t.eventRoot,this.domRoot="string"==typeof t.domRoot?document.getElementById(t.domRoot):t.domRoot,this.view=t.view,this.events={}}return t.prototype.start=function(){var i=this;this.events={};var e={store:this.store,handle:function(n,r){window.setTimeout(function(){var e;for(var t in n.hasAttribute("data-alm-id")?e=n.getAttribute("data-alm-id"):(e=i.gensym(),n.setAttribute("data-alm-id",e)),r.ref&&(r.ref(n),delete r.ref),r)t in i.events||(i.events[t]={},i.registerEvent(t,i.handleEvent)),i.events[t][e]=r[t];return function(){for(var t in r)delete i.events[t][e]}},0)}},n=this.view(e);s.initialDOM(this.domRoot,n),this.store.subscribe(function(){var t=i.view(e);s.diff_dom(i.domRoot,n,t),n=t})},t.prototype.gensym=function(){return"node-"+(this.gensymnumber++).toString()},t.prototype.registerEvent=function(t,e){this.eventRoot.addEventListener(t,e,!0)},t}();e.Alm=r,e.connect=function(c,u){return void 0===c&&(c=null),void 0===u&&(u=null),function(a){return function(s){return void 0===s&&(s={}),function(t){var e=t.store,n=e.getState(),r=c?c(n):{},i=u?u(e.dispatch.bind(e)):{},o=l({},s,r,i);return a(o)(t)}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(4),s=n(11),a=new r.Alm({model:s.initialState,update:s.reducer,view:o.default(),domRoot:"main",eventRoot:"main"});s.initialState.ws.subscribe(function(t){a.store.dispatch(i.searchResults(t.data))}),a.start()},function(t,e,n){"use strict";var f,r;Object.defineProperty(e,"__esModule",{value:!0}),(r=f=e.VDomType||(e.VDomType={}))[r.Text=0]="Text",r[r.Node=1]="Node";var h,i,o=function(){function t(t,e,n,r){void 0===r&&(r=null),this.content=t,this.children=e,this.treeType=n,this.onCreate=r,this.onDestroy=null,n===f.Node?"key"in this.content.attrs?(this.key=this.content.attrs.key,delete this.content.attrs.key):"id"in this.content.attrs?this.key=this.content.attrs.id:this.key=this.content.tag:this.key="text-node"}return t.prototype.setChildren=function(t){return this.children=t,this},t.prototype.eq=function(t){return!!t&&this.key===t.key},t}();function p(t){if(null===t)return null;if(t.treeType===f.Text)return document.createTextNode(t.content);var e=document.createElement(t.content.tag);for(var n in t.content.attrs)null!==t.content.attrs[n]&&e.setAttribute(n,t.content.attrs[n]);for(var r=0;r<t.children.length;r++){var i=p(t.children[r]);e.appendChild(i)}return t.onDestroy=t.onCreate(e),e}function v(t,e,n){if(!t.length)return e.map(function(t){return[h.Insert,null,t]});if(!e.length)return t.map(function(t){return[h.Delete,t,null]});for(var r=t.length+1,i=e.length+1,o=new Array(r*i),s=[],a=0;a<r;a++)o[a*i]=a;for(var c=0;c<i;c++)o[c]=c;for(var u=1;u<i;u++)for(var l=1;l<r;l++)n(t[l-1],e[u-1])?o[l*i+u]=o[(l-1)*i+(u-1)]:o[l*i+u]=Math.min(o[(l-1)*i+u],o[l*i+(u-1)])+1;for(var d=r-1,f=i-1;0<d&&0<f;)n(t[d-1],e[f-1])?(d--,f--,s.unshift([h.Merge,t[d],e[f]])):o[d*i+(f-1)]<o[(d-1)*i+f]?(f--,s.unshift([h.Insert,null,e[f]])):(d--,s.unshift([h.Delete,t[d],null]));if(0<d)for(;0<d;)s.unshift([h.Delete,t[d--],null]);if(0<f&&0===d)for(;0<f;)s.unshift([h.Insert,null,e[--f]]);return s}e.VDom=o,e.initialDOM=function(t,e){for(var n=t,r=p(e);n.firstChild;)n.removeChild(n.firstChild);n.appendChild(r)},(i=h=e.Op||(e.Op={}))[i.Merge=0]="Merge",i[i.Delete=1]="Delete",i[i.Insert=2]="Insert",e.diff_array=v,e.diff_dom=function t(e,n,r,i){if(void 0===i&&(i=0),null!=r)if(null!=n)if(r.treeType===f.Node){if(n.treeType===f.Node&&n.content.tag===r.content.tag){var o=e.childNodes[i];for(var s in n.content.attrs)s in r.content.attrs||(o.removeAttribute(s),delete o[s]);for(var s in r.content.attrs){var a=r.content.attrs[s];s in n.content.attrs&&a===n.content.attrs[s]||(o[s]=a,o.setAttribute(s,a))}window.setTimeout(function(){o.hasAttribute("value")&&(o.value=o.getAttribute("value"))},0);for(var c=v(n.children,r.children,function(t,e){return void 0!==t&&t.eq(e)}),u=0,l=0;l<c.length;l++){var d=c[l];t(e.childNodes[i],d[1],d[2],u),d[0]!==h.Delete&&u++}}}else e.childNodes[i].onDestroy&&e.childNodes[i].onDestroy(),e.replaceChild(p(r),e.childNodes[i]);else e.insertBefore(p(r),e.childNodes[i]);else e.childNodes[i]&&(e.childNodes[i].onDestroy&&e.childNodes[i].onDestroy(),e.removeChild(e.childNodes[i]))}},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(1);n(5);var o=n(10),s=n(0),a=function(t){return i.el("div",{className:"cool-radio"},i.el("input",{type:"radio",name:"search-by-radio",id:t.id,className:t.checked?"yay":"nay",checked:t.checked?"checked":null,on:{change:function(){return t.action()}}}),i.el("label",{for:t.id},t.label))},c=i.connect(function(t){return r({},t)},function(e){return{updateSongQuery:function(t){return e(s.updateSongQuery(t))},setSearchBy:function(t){return e(s.searchBy(t))},search:function(){return e(s.search())}}})(function(e){return i.el("div",{id:"the_app",className:"app"},i.el("header",{id:"header",className:"header"},i.el("img",{id:"hellyea",src:o})),i.el("input",{type:"text",name:"song-search",id:"song-search-input",placeholder:"Which "+e.searchBy+"?",on:{input:function(t){e.updateSongQuery(t.getValue())},keydown:function(t){13===t.getRaw().keyCode&&(document.getElementById("song-search-input").blur(),e.search())}}}),i.el("div",{id:"mode-selection"},i.el(a,{id:"search-by-title",label:"Search by Title",checked:"title"===e.searchBy,action:function(){return e.setSearchBy("title")}}),i.el(a,{id:"search-by-artist",label:"Search By Artist",checked:"artist"===e.searchBy,action:function(){return e.setSearchBy("artist")}})),i.el("div",{id:"track-listings-wrapper"},i.el("ul",{id:"track-listings"},e.listed_tracks.map(function(t,e){return i.el("li",{className:"track-listing",id:"track-listing-"+e},t.render())}))))});e.default=c},function(t,e,n){var r=n(6);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(8)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(7)(!1)).push([t.i,'div#the_app {\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    padding: 20px;\n}\n\nheader#header {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    margin-bottom: 20px;\n}\n\ninput#song-search-input {\n    border: 0;\n    width: 62%;\n    line-height: 3rem;\n    padding: 0 5px 0 5px;\n    font-size: 2rem;\n    font-family: \'Comic Neue\', sans-serif;\n    margin: 0;\n}\n\ndiv#mode-selection {\n    display: flex;\n    flex-direction: row;\n    width: 62%;\n    height: 50px;\n}\n\n@media screen and (max-width: 600px) {\n    img#hellyea {\n        width: 100%;\n    }\n\n    input#song-search-input, div#mode-selection {\n        line-height: 2rem;\n        width: 100%;\n    }\n\n    input#song-search-input {\n        padding: 5px 5px 5px 5px;\n    }\n}\n\n@media screen and (min-width: 600px) {\n    img#hellyea {\n        height: 300px;\n    }\n}\n\n/* Cool radio buttons */\n\n.cool-radio {\n    color: #b9b9b9;\n    flex-grow: 1;\n    flex-shrink: 1;\n    flex-basis: auto;\n    text-align: center;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    /*\n    background-color: red;\n    border: 1px dashed green;\n    */\n}\n.cool-radio input[type="radio"]{\n    opacity: 0;\n    position: absolute;\n    height: 0;\n}\n\n.cool-radio label::before{\n    content: "";\n    display: inline-block;\n\n    height: 16px;\n    width: 16px;\n\n/*    border: 1px solid; */\n}\n\n.cool-radio label::after {\n    content: "";\n    /*\n    display: inline-block;\n\n    height: 6px;\n    width: 9px;\n    border-left: 2px solid;\n    border-bottom: 2px solid;\n\n    transform: rotate(-45deg);\n    */\n}\n\n.cool-radio label {\n    position: relative;\n    text-align: center;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    font-family: \'Comic Neue\', sans-serif;\n    font-weight: bold;\n}\n\n.cool-radio label::before,\n.cool-radio label::after {\n    position: absolute;\n}\n\n/*Outer-box*/\n.cool-radio label::before {\n    top: 3px;\n}\n\n/*Checkmark*/\n.cool-radio label::after {\n    left: 4px;\n    top: 7px;\n}\n\n/*Hide the checkmark by default*/\n.cool-radio input[type="radio"] + label {\n    /*    content: none; */\n    background-color: rgba(0,0,0,0);\n    width: 100%;\n    height: 100%;\n    border-bottom: 0;\n}\n\n/*Unhide the checkmark on the checked state*/\n.cool-radio input[type="radio"]:checked + label {\n    /*    content: ""; */\n    border-bottom: 5px solid red;\n}\n\n/*Adding focus styles on the outer-box of the fake checkbox*/\n.cool-radio input[type="radio"]:focus + label::before {\n    /*    outline: rgb(59, 153, 252) auto 5px; */\n}\n\n/** track listings */\n\ndiv.track {\n    margin: 5px;\n    padding: 5px;\n    font-family: \'Comic Neue\',sans-serif;\n    text-align: left;\n    display: inline-block;\n    color: #ddd;\n}\n\n#track-listings {\n}\n\n#track-listings-wrapper {\n}\n\nli.track-listing {\n    margin: 5px 6px 6px 5px;\n    font-size: 2rem;\n}\n\nli.track-listing:hover {\n    border-radius: 3px;\n    border-bottom: 1px solid #b9b9b9;\n    border-right: 1px solid #b9b9b9;\n    margin: 5px;\n}\n\nspan.track-title {\n    //    font-size: 28pt;\n}\n\nspan.track-artist {\n    //    font-size: 28pt;\n    color: gray;\n    margin-left: 10px;\n    font-style: italic;\n}\n',""])},function(t,e){t.exports=function(n){var s=[];return s.toString=function(){return this.map(function(t){var e=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(s=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),o=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(o).concat([i]).join("\n")}var s;return[n].join("\n")}(t,n);return t[2]?"@media "+t[2]+"{"+e+"}":e}).join("")},s.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(n[i]=!0)}for(r=0;r<t.length;r++){var o=t[r];"number"==typeof o[0]&&n[o[0]]||(e&&!o[2]?o[2]=e:e&&(o[2]="("+o[2]+") and ("+e+")"),s.push(o))}},s}},function(t,e,r){var n,i,o,c={},u=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=n.apply(this,arguments)),i}),s=(o={},function(t,e){if("function"==typeof t)return t();if(void 0===o[t]){var n=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}o[t]=n}return o[t]}),l=null,d=0,a=[],f=r(9);function h(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=c[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(b(r.parts[o],e))}else{var s=[];for(o=0;o<r.parts.length;o++)s.push(b(r.parts[o],e));c[r.id]={id:r.id,refs:1,parts:s}}}}function p(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],s=e.base?o[0]+e.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};r[s]?r[s].parts.push(a):n.push(r[s]={id:s,parts:[a]})}return n}function v(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=a[a.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),a.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(t.insertAt.before,n);n.insertBefore(e,i)}}function y(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=a.indexOf(t);0<=e&&a.splice(e,1)}function m(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var n=function(){0;return r.nc}();n&&(t.attrs.nonce=n)}return g(e,t.attrs),v(t,e),e}function g(e,n){Object.keys(n).forEach(function(t){e.setAttribute(t,n[t])})}function b(e,t){var n,r,i,o,s,a;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var c=d++;n=l||(l=m(t)),r=k.bind(null,n,c,!1),i=k.bind(null,n,c,!0)}else i=e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(s=t,a=document.createElement("link"),void 0===s.attrs.type&&(s.attrs.type="text/css"),s.attrs.rel="stylesheet",g(a,s.attrs),v(s,a),r=function(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=f(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([r],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n=a,t),function(){y(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(t),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),function(){y(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}t.exports=function(t,s){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(s=s||{}).attrs="object"==typeof s.attrs?s.attrs:{},s.singleton||"boolean"==typeof s.singleton||(s.singleton=u()),s.insertInto||(s.insertInto="head"),s.insertAt||(s.insertAt="bottom");var a=p(t,s);return h(a,s),function(t){for(var e=[],n=0;n<a.length;n++){var r=a[n];(i=c[r.id]).refs--,e.push(i)}t&&h(p(t,s),s);for(n=0;n<e.length;n++){var i;if(0===(i=e[n]).refs){for(var o=0;o<i.parts.length;o++)i.parts[o]();delete c[i.id]}}}};var x,w=(x=[],function(t,e){return x[t]=e,x.filter(Boolean).join("\n")});function k(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=w(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,o=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var n,r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(n=0===r.indexOf("//")?r:0===r.indexOf("/")?i+r:o+r.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")})}},function(t,e,n){t.exports=n.p+"2f4104cf622533aa785ce03b6aae1586.png"},function(t,n,e){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0});var i,o,s=e(0),a=e(12),c=e(13);(o=i=n.Mode||(n.Mode={}))[o.Search=0]="Search",o[o.Browse=1]="Browse",n.initialState={mode:i.Search,searchBy:"title",songQuery:"",ws:new a.WS,listed_tracks:[]},n.reducer=function(t,e){if(void 0===t&&(t=n.initialState),void 0===e)return t;switch(e.type){case s.Actions.UpdateSongQuery:return r({},t,{songQuery:e.data});case s.Actions.SetModeBrowse:return r({},t,{mode:i.Browse});case s.Actions.SetModeSearch:return r({},t,{mode:i.Search});case s.Actions.SearchBy:return r({},t,{searchBy:e.data});case s.Actions.SearchResults:return void 0===e?t:r({},t,{listed_tracks:e.data.map(function(t){return c.Track.deserialize(t)})});default:return t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){var t=this;this.socket=io(),this.listeners=[],this.socket.on("msg",function(e){t.listeners.forEach(function(t){t(e)})})}return t.prototype.send=function(t){return this.socket.emit("msg",t),this},t.prototype.subscribe=function(t){return this.listeners.push(t),this},t}();e.WS=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n(14);function s(t){return t.replace(/^"/,"").replace(/"$/,"")}(i=r=e.TrackSource||(e.TrackSource={}))[i.Karafun=0]="Karafun",i[i.Community=1]="Community";var a=function(){function n(t,e,n,r,i,o,s){this.id=t,this.title=e,this.artist=n,this.year=r,this.duo=i,this.explicit=o,this.source=s}return n.prototype.render=function(){var t=o.el("span",{class:"track-title",id:"track-title-"+this.id.toString()},[this.title]),e=o.el("span",{class:"track-artist",id:"track-artist-"+this.id.toString()},[this.artist]),n="track"+(this.duo?" track-duo":"")+(this.explicit?" track-explicit":"");return o.el("div",{class:n,id:"track-"+this.id.toString()},[t,e])},n.parse_karafun=function(t){var e=t.match(/(".*?"|[^";\s]+)(?=\s*;|\s*$)/g);return e?new n(parseInt(e[0]),s(e[1]),s(e[2]),e[3],"1"===e[4],"1"===e[5],r.Karafun):null},n.parse_community=function(t){var e=t.match(/(".*?"|[^",\s]+)(?=\s*,|\s*$)/g);return e?new n(0,s(e[0]),s(e[1]),"N/A",!1,!1,r.Community):null},n.prototype.serialize=function(){return JSON.stringify({id:this.id.toString(),title:this.title,artist:this.artist,year:this.year,duo:this.duo,explicit:this.explicit,source:this.source===r.Karafun?"karafun":"community"})},n.deserialize=function(t){var e=JSON.parse(t);return new n(e.id,e.title,e.artist,e.year,e.duo,e.explicit,"karafun"===e.source?r.Karafun:r.Community)},n}();e.Track=a},function(t,e,n){"use strict";var l=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(15);e.makeReducer=function(u){var l=Object.keys(u);return function(t,e){for(var n=!1,r={},i=0;i<l.length;i++){var o=l[i],s=u[o],a=t[o],c=s(a,e);r[o]=c,n=n||c!==a}return n?r:t}};var i=function(){function t(t,e){this.state=t,this.reducer=e,this.subscribers=[]}return t.prototype.dispatch=function(t){return this.state=this.reducer(this.state,"function"==typeof t?t(this.dispatch.bind(this),this.getState.bind(this)):t),this.subscribers.forEach(function(t){t()}),this},t.prototype.subscribe=function(e){var n=this;return this.subscribers.push(e),function(){var t=n.subscribers.indexOf(e);n.subscribers.splice(t,1)}},t.prototype.getState=function(){return Object.seal(this.state)},t}();e.Store=i,e.el=function(r,i){void 0===i&&(i={});for(var o=[],t=2;t<arguments.length;t++)o[t-2]=arguments[t];return function(n){var e={};(i=null===i?{}:i).on&&(e=i.on,delete i.on),i.className&&(i.class=i.className,delete i.className),i.ref&&(e.ref=i.ref,delete i.ref);var t=(o=Array.isArray(o)&&Array.isArray(o[0])?o[0]:o)?o.filter(function(t){return void 0!==t}).map(function(t,e){return!t||t instanceof Array?null:"string"==typeof t?new s.VDom(t,[],s.VDomType.Text):t(n)}).filter(function(t){return null!==t}):[];return"string"==typeof r?new s.VDom({tag:r,attrs:i},t,s.VDomType.Node,function(t){n.handle(t,e)}):r(l({},i,{children:t}))(n)}};var o=function(){function t(t){this.raw=t,this.classes=t.target.className.trim().split(/\s+/g)||[],this.id=t.target.id||"",this.value=t.target.value}return t.prototype.hasClass=function(t){return-1!==this.classes.indexOf(t)},t.prototype.getClasses=function(){return this.classes},t.prototype.getId=function(){return this.id},t.prototype.getValue=function(){return this.value},t.prototype.getRaw=function(){return this.raw},t.prototype.class_in_ancestry=function(t){for(var e=null,n=!1,r=this.raw.target;!n;){if(!r.className){n=!0;break}-1!==(r.className.trim().split(/\s+/g)||[]).indexOf(t)?(e=r,n=!0):r.parentNode?r=r.parentNode:n=!0}return e},t}();e.AlmEvent=o;var r=function(){function t(t){var r=this;this.gensymnumber=0,this.handleEvent=function(t){var e=t.type;if(r.events[e]&&t.target.hasAttribute("data-alm-id")){var n=t.target.getAttribute("data-alm-id");r.events[e][n]&&r.events[e][n](new o(t))}},this.store=new i(t.model,t.update),this.eventRoot="string"==typeof t.eventRoot?document.getElementById(t.eventRoot):void 0===t.eventRoot?document:t.eventRoot,this.domRoot="string"==typeof t.domRoot?document.getElementById(t.domRoot):t.domRoot,this.view=t.view,this.events={}}return t.prototype.start=function(){var i=this;this.events={};var e={store:this.store,handle:function(n,r){window.setTimeout(function(){var e;for(var t in n.hasAttribute("data-alm-id")?e=n.getAttribute("data-alm-id"):(e=i.gensym(),n.setAttribute("data-alm-id",e)),r.ref&&(r.ref(n),delete r.ref),r)t in i.events||(i.events[t]={},i.registerEvent(t,i.handleEvent)),i.events[t][e]=r[t];return function(){for(var t in r)delete i.events[t][e]}},0)}},n=this.view(e);s.initialDOM(this.domRoot,n),this.store.subscribe(function(){var t=i.view(e);s.diff_dom(i.domRoot,n,t),n=t})},t.prototype.gensym=function(){return"node-"+(this.gensymnumber++).toString()},t.prototype.registerEvent=function(t,e){this.eventRoot.addEventListener(t,e,!0)},t}();e.Alm=r,e.connect=function(c,u){return void 0===c&&(c=null),void 0===u&&(u=null),function(a){return function(s){return void 0===s&&(s={}),function(t){var e=t.store,n=e.getState(),r=c?c(n):{},i=u?u(e.dispatch.bind(e)):{},o=l({},s,r,i);return a(o)(t)}}}}},function(t,e,n){"use strict";var f,r;Object.defineProperty(e,"__esModule",{value:!0}),(r=f=e.VDomType||(e.VDomType={}))[r.Text=0]="Text",r[r.Node=1]="Node";var h,i,o=function(){function t(t,e,n,r){void 0===r&&(r=null),this.content=t,this.children=e,this.treeType=n,this.onCreate=r,this.onDestroy=null,n===f.Node?"key"in this.content.attrs?(this.key=this.content.attrs.key,delete this.content.attrs.key):"id"in this.content.attrs?this.key=this.content.attrs.id:this.key=this.content.tag:this.key="text-node"}return t.prototype.setChildren=function(t){return this.children=t,this},t.prototype.eq=function(t){return!!t&&this.key===t.key},t}();function p(t){if(null===t)return null;if(t.treeType===f.Text)return document.createTextNode(t.content);var e=document.createElement(t.content.tag);for(var n in t.content.attrs)null!==t.content.attrs[n]&&e.setAttribute(n,t.content.attrs[n]);for(var r=0;r<t.children.length;r++){var i=p(t.children[r]);e.appendChild(i)}return t.onDestroy=t.onCreate(e),e}function v(t,e,n){if(!t.length)return e.map(function(t){return[h.Insert,null,t]});if(!e.length)return t.map(function(t){return[h.Delete,t,null]});for(var r=t.length+1,i=e.length+1,o=new Array(r*i),s=[],a=0;a<r;a++)o[a*i]=a;for(var c=0;c<i;c++)o[c]=c;for(var u=1;u<i;u++)for(var l=1;l<r;l++)n(t[l-1],e[u-1])?o[l*i+u]=o[(l-1)*i+(u-1)]:o[l*i+u]=Math.min(o[(l-1)*i+u],o[l*i+(u-1)])+1;for(var d=r-1,f=i-1;0<d&&0<f;)n(t[d-1],e[f-1])?(d--,f--,s.unshift([h.Merge,t[d],e[f]])):o[d*i+(f-1)]<o[(d-1)*i+f]?(f--,s.unshift([h.Insert,null,e[f]])):(d--,s.unshift([h.Delete,t[d],null]));if(0<d)for(;0<d;)s.unshift([h.Delete,t[d--],null]);if(0<f&&0===d)for(;0<f;)s.unshift([h.Insert,null,e[--f]]);return s}e.VDom=o,e.initialDOM=function(t,e){for(var n=t,r=p(e);n.firstChild;)n.removeChild(n.firstChild);n.appendChild(r)},(i=h=e.Op||(e.Op={}))[i.Merge=0]="Merge",i[i.Delete=1]="Delete",i[i.Insert=2]="Insert",e.diff_array=v,e.diff_dom=function t(e,n,r,i){if(void 0===i&&(i=0),null!=r)if(null!=n)if(r.treeType===f.Node){if(n.treeType===f.Node&&n.content.tag===r.content.tag){var o=e.childNodes[i];for(var s in n.content.attrs)s in r.content.attrs||(o.removeAttribute(s),delete o[s]);for(var s in r.content.attrs){var a=r.content.attrs[s];s in n.content.attrs&&a===n.content.attrs[s]||(o[s]=a,o.setAttribute(s,a))}window.setTimeout(function(){o.hasAttribute("value")&&(o.value=o.getAttribute("value"))},0);for(var c=v(n.children,r.children,function(t,e){return void 0!==t&&t.eq(e)}),u=0,l=0;l<c.length;l++){var d=c[l];t(e.childNodes[i],d[1],d[2],u),d[0]!==h.Delete&&u++}}}else e.childNodes[i].onDestroy&&e.childNodes[i].onDestroy(),e.replaceChild(p(r),e.childNodes[i]);else e.insertBefore(p(r),e.childNodes[i]);else e.childNodes[i]&&(e.childNodes[i].onDestroy&&e.childNodes[i].onDestroy(),e.removeChild(e.childNodes[i]))}}]);